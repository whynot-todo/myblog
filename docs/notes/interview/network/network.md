# 网络部分

[网页链接](https://blog.csdn.net/qq_33277654/article/details/112758362)

[脑图链接](https://kdocs.cn/l/cbAeeFS33wHF
[金山文档] 未命名文件.pof)

### **Get 和 Post 的区别**

![](https://gitee.com/cai_shengfu/picgo/raw/master/img/20210206120632.png)

-   冪等/不冪等（可缓存/不可缓存）
    -   get 请求是冪等的，所以 get 请求的数据是可以缓存的
    -   而 post 请求是不冪等的，查询查询对数据是有副作用的，是不可缓存的
-   传参
    -   get 传参，参数是在 url 中的
        -   准确的说 get 传参也可以放到 body 中，只不过不推荐使用
    -   post 传参，参数是在请求体中
        -   准确的说 post 传参也可以放到 url 中，只不过不推荐使用
-   安全性
    -   get 较不安全
    -   post 较为安全
    -   准确的说两者都不安全，都是明文传输的，在路过公网的时候都会被访问到，不管是 url 还是 header 还是 body，都会被访问到，要想做到安全，就需要使用 https
-   参数长度
    -   get 参数长度有限，是较小的
        -   准确来说，get 在 url 传参的时候是很小的
    -   post 传参长度不受限制
-   发送数据
    -   post 传参发送两个请求包，一个是请求头，一个是请求体，请求头发送后服务器进行验证，要是验证通过的话就会给客户端发送一个 100-continue 的状态码，然后就会发送请求体
-   字符编码
    -   get 在 url 上传输的时候只允许 ASCII(阿斯科)编码

### **讲讲 http 缓存**

![](https://gitee.com/cai_shengfu/picgo/raw/master/img/20210206120133.png)

-   缓存分为强缓存和协商缓存

-   强缓存

    -   在浏览器加载资源时，先看看`cache-control`里的`max-age`，判断数据有没有过期，如果没有直接使用该缓存 ，有些用户可能会在没有过期的时候就点了刷新按钮，这个时候浏览器就回去请求服务端，要想避免这样做，可以在`cache-control`里面加一个`immutable`.
    -   public
        -   允许客户端和虚拟服务器缓存该资源，cache-control 中的一个属性
    -   private
        -   只允许客户端缓存该资源
    -   no-storage
        -   不允许强缓存，可以协商缓存
    -   no-cache
        -   不允许缓存

-   协商缓存

    -   浏览器加载资源时，没有命中强缓存，这时候就去请求服务器，去请求服务器的时候，会带着两个参数，一个是`If-None-Match`，也就是响应头中的`etag`属性，每个文件对应一个`etag`;另一个参数是`If-Modified-Since`,也就是响应头中的`Last-Modified`属性，带着这两个参数去检验缓存是否真的过期，如果没有过期，则服务器会给浏览器返回一个 304 状态码，表示缓存没有过期，可以使用旧缓存。

*   `etag`的作用

-   有时候编辑了文件，但是没有修改，但是`last-modified`属性的时间就会改变，导致服务器会重新发送资源，但是`etag`的出现就完美的避免了这个问题，他是文件的唯一标识

缓存位置：

-   内存缓存 Memory-Cache
-   离线缓存 Service-Worker
-   磁盘缓存 Disk-Cache
-   推送缓存 Push-Cache

### **`tcp` 和`udp`有什么区别**

-   连接方面
    -   tcp 面向连接，udp 不需要连接
        -   tcp 需要三次握手四次挥手请求连接
-   可靠性
    -   tcp 是可靠传输；一旦传输过程中丢包的话会进行重传
    -   udp 是不可靠传输，但会最大努力交付
-   工作效率
    -   UDP 实时性高，比 TCP 工作效率高
        -   因为不需要建立连接，更不需要复杂的握手挥手以及复杂的算法，也没有重传机制
-   是否支持多对多
    -   TCP 是点对点的
    -   UDP 支持一对一，一对多，多对多
-   首部大小
    -   tcp 首部占 20 字节
    -   udp 首部占 8 字节

## 安全问题

### 什么是 CDN

-   CDN 的本质是将媒体资源，动静态图片，HTML，CSS，JS 缓存到离你更近的 IDC(互联网数据中心，也就是数据仓库)，从而让用户共享资源，从而缩小站点间的相应时间
-   访问速度有保障，稳定性也有保障
-   你可以省下资源服务器的一部分资源负担，节省空间节省流量

[CDN 的过程](https://juejin.cn/post/6844903604596244493)

### **什么是 xss？什么是 csrf？**

-   xss 脚本注入
    -   不需要你做任何的登录认证，它会通过合法的操作（比如在 url 中输入、在评论框中输入），向你的页面注入脚本（可能是 js、hmtl 代码块等）。
    -   防御
        -   编码：对用户输入的数据进行 HTML Entity 编码。把字符转换成 转义字符。Encode 的作用是将\$var 等一些字符进行转化，使得浏览器在最终输出结果上是一样的。
        -   过滤：移除用户输入的和事件相关的属性。
-   csrf 跨域请求伪造
    -   在未退出 A 网站的前提下访问 B，B 使用 A 的 cookie 去访问服务器
    -   防御：token，每次用户提交表单时需要带上 token（伪造者访问不到），如果 token 不合法，则服务器拒绝请求

### OWASP top10 （10 项最严重的 Web 应用程序安全风险列表）都有哪些?

-   SQL 注入
    -   在输入框里输入 sql 命令
-   失效的身份验证
    -   拿到别人的 cookie 来向服务端发起请求，就可以做到登陆的目的
-   敏感数据泄露
    -   明文传输状态下可能被抓包拦截，这时候就造成数据泄露
        -   想做到抓包，比如在网吧，共享一个猫上网，这时候抓包就可行，方法网上一搜一大把
    -   不过此风险大部分网站都能得到很好的解决，https 或者 md5 加密都可以
-   XML 外部实体
-   失效的访问控制
-   安全配置错误
-   XSS
-   不安全的反序列化
-   使用含有已知漏洞的组件
-   不足的日志记录和监控
